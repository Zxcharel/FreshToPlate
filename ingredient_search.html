<!DOCTYPE html>
<html>
<head>
    <title>Recipe Search by Ingredients</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        #search-form {
            margin: 20px;
        }

        #results {
            text-align: left;
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>Recipe Search by Ingredients</h1>
    <div id="search-form">
        <label for="ingredients-input">Enter ingredients (comma-separated): </label>
        <input type="text" id="ingredients-input">
        <button onclick="searchRecipesByIngredients()">Search</button>
    </div>

    <div id="results">
        <h2>Search Results:</h2>
        <ul id="recipe-list"></ul>
    </div>

    <script>
        const apiKey = '014f17961be149788f7dbc80c946612c';
        const apiUrl = 'https://api.spoonacular.com/recipes/findByIngredients';

        async function searchRecipesByIngredients() {
            const ingredientsInput = document.getElementById('ingredients-input').value;
            const recipeList = document.getElementById('recipe-list');
            recipeList.innerHTML = '';

            try {
                var response = await fetch(`${apiUrl}?apiKey=${apiKey}&ingredients=${ingredientsInput}`);
                if (response.ok) {
                    const data = await response.json();
                    console.log(data); // Add this line to log the data structure
                    displayRecipes(data, recipeList);
                } else {
                    console.error('Error:', response.statusText);
                }
            } catch (error) {
                console.error('Error:', error);
            }
        }

        function displayRecipes(recipes, recipeList) {
            if (recipes.length === 0) {
                recipeList.innerHTML = '<p>No recipes found.</p>';
            } else {
                recipes.forEach(recipe => {
                    const listItem = document.createElement('li');
                    const recipeLink = document.createElement('a');
                    recipeLink.href = recipe.sourceUrl;
                    recipeLink.textContent = recipe.title;
                    listItem.appendChild(recipeLink);
                    recipeList.appendChild(listItem);
                });
            }
        }
    </script>
</body>
</html>