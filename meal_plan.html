<!DOCTYPE html>
<html>
<head>
    <title>Meal Planning</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        #generate-button {
            margin: 20px;
        }

        #meal-plan {
            margin: 20px;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Meal Planning</h1>
    <button id="generate-button" onclick="generateMealPlan()">Generate Meal Plan</button>

    <div id="meal-plan">
        <h2>Generated Meal Plan:</h2>
        <ul id="meal-plan-list"></ul>
    </div>

    <script>
        const apiKey = '014f17961be149788f7dbc80c946612c';
        const apiUrl = 'https://api.spoonacular.com/mealplanner/generate';

        async function generateMealPlan() {
            const mealPlanList = document.getElementById('meal-plan-list');
            mealPlanList.innerHTML = '';

            try {
                const response = await fetch(`${apiUrl}?apiKey=${apiKey}`);
                if (response.ok) {
                    const data = await response.json();
                    console.log(data);
                    displayMealPlan(data, mealPlanList);

                } else {
                    console.error('Error:', response.statusText);
                }
            } catch (error) {
                console.error('Error:', error);
            }
        }

        function displayMealPlan(mealPlan, mealPlanList) {
            if (mealPlan.meals.length === 0) {
                mealPlanList.innerHTML = '<p>No meal plan generated.</p>';
            } else {
                mealPlan.meals.forEach(meal => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `${meal.title} - ${meal.slot}`;
                    mealPlanList.appendChild(listItem);
                });
            }
        }
    </script>
</body>
</html>